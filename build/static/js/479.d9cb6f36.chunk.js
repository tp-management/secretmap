"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[479],{1966:(e,a,s)=>{s.r(a),s.d(a,{default:()=>R});var t=s(3963),n=s(2791),r=s(3109);s(5462);const i="uploads_controllers__GKVrt",c="uploads_controller_wrapper__FIL9V",l="addNewPlace_container__xIMP0",o="addNewPlace_mobile__0K8PU",d="addNewPlace_btn_wrapper__wOPJl",h="addNewPlace_desktop__3UOf+";s(8859),s(6890),s(7080),s(3788),s(9243);const p="desktop_container__NFLDv",u="desktop_inputs_wrapper__2h1nu",m="desktop_inputs__HkY5m",_="desktop_inputs_type__kE-NK",x="desktop_description__5zMnY",g="desktop_images_wrapper__c3ahd",j=s.p+"static/media/type_icon.10dbc443d0533d342d3d.png";s(3909);var A=s(1899),v=(s(9805),s(1927)),S=s(7382),N=s(184);const w=()=>(0,N.jsxs)("div",{className:p,children:[(0,N.jsxs)("div",{className:u,children:[(0,N.jsxs)("div",{className:m,children:[(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:j,alt:""}),(0,N.jsx)("label",{children:"Select type"})]}),(0,N.jsxs)("div",{style:{marginLeft:"10px"},className:_,children:[(0,N.jsx)("img",{src:A,alt:""}),(0,N.jsx)("label",{children:"Set location"})]})]}),(0,N.jsx)("textarea",{className:x,children:"Tell us more about this place"})]}),(0,N.jsxs)("div",{className:u,children:[(0,N.jsx)("div",{className:m,children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:A,alt:""}),(0,N.jsx)("label",{children:"Set price per every view"})]})}),(0,N.jsx)("div",{className:g,children:(0,N.jsx)(S.Z,{controllers:!1})})]})]}),y=e=>{const[a,s]=(0,n.useState)(!1),[t,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1);return(0,N.jsxs)("div",{className:l,children:[(0,N.jsx)("div",{className:h,children:(0,N.jsx)(w,{})}),(0,N.jsx)("div",{className:o}),(0,N.jsx)("div",{className:d,children:(0,N.jsx)(v.Z,{color:"#EE7D15",children:(0,N.jsx)("h1",{children:"Submit"})})})]})};var b=s(7352),C=s(6669),E=s(7689),f=s(526),k=s(6113);const L={container:"myPlaces_container__AcC5g"};var T=s(8271);const Z=()=>{const[e,a]=(0,n.useState)(null),[s,t]=(0,n.useState)(!1),r=(0,n.useContext)(b.V),i=(0,E.s0)();return(0,n.useEffect)((()=>{(async()=>{if(!r.authenticatedUser||!r.isLoggedIn)return;t(!0);const e=await(0,C.l)(r.authenticatedUser.token.access_token);if(!e.status)return r.logout(),i("/");a(e.data),t(!1)})()}),[]),(0,N.jsxs)("div",{className:L.container,children:[!r.authenticatedUser&&(0,N.jsx)(T.Z,{children:(0,N.jsx)("div",{className:L.auth_btn,children:(0,N.jsx)(v.Z,{color:"#EE7D15",onSubmit:()=>{},children:(0,N.jsx)("h1",{style:{color:"white"},children:"Login"})})})}),s?(0,N.jsx)(f.Bounce,{size:"2rem",color:"#EE7D15"}):(0,N.jsx)(N.Fragment,{children:e&&!s&&(0,N.jsx)(k.Z,{data:e})})]})},R=()=>{const[e,a]=(0,n.useState)(!0);return(0,N.jsx)(r.Z,{children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:i,children:[(0,N.jsx)("div",{className:c,children:(0,N.jsx)(v.Z,{onSubmit:()=>a(!1),color:e?"":"#EE7D15",children:(0,N.jsx)("h1",{style:{color:e?"#2C3C4D":"white"},children:"My places"})})}),(0,N.jsx)("div",{className:c,children:(0,N.jsx)(v.Z,{onSubmit:()=>a(!0),color:e?"#EE7D15":"",children:(0,N.jsx)("h1",{style:{color:e?"white":"#2C3C4D"},children:"Share new place"})})})]}),e?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.Z,{header:"Share New Place",paragraph:"There is always something interested near you. Share unique places and make money \ud83d\udcb0"}),(0,N.jsx)(y,{})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.Z,{header:"My Places",paragraph:"There you see places you shared with others. You can delete or update this list"}),(0,N.jsx)(Z,{})]})]})})}},9243:(e,a,s)=>{s.d(a,{Z:()=>b});var t=s(2791);const n={container:"createTrip_container__TZC-9",hidden:"createTrip_hidden__RMCcs",login_form_title:"createTrip_login_form_title__he8my",form_content:"createTrip_form_content__BhVb6",select_type:"createTrip_select_type__8ScTD",logo_menu:"createTrip_logo_menu__YH23X",icon_invalid:"createTrip_icon_invalid__+8xHG",icon_valid:"createTrip_icon_valid__N8JKZ",btn_container:"createTrip_btn_container__2w1wi",preparing_url:"createTrip_preparing_url__h3hlg",almost_there:"createTrip_almost_there__+jjNt",almost_there_loader:"createTrip_almost_there_loader__9KMTg"};var r=s(3788),i=s(544);var c=s(1927),l=s(7352),o=s(8351),d=(s(5462),s(7689)),h=s(9906),p=s(8271),u=s(1899),m=s(3909),_=s(9805),x=s(4555),g=s(7382),j=s(7817);const A="defineType_wrapper__vDwvT";var v=s(7683),S=s(184);const N=e=>(0,S.jsx)("div",{className:A,children:(0,S.jsx)(v.Z,{onChangeState:a=>{if(!(!a.length>0))return e.onSubmit(a),e.onClose?e.onClose():null}})});var w=s(4569),y=s.n(w);const b=e=>{const a=(0,d.s0)(),[s,A]=(0,t.useState)(null),[v,w]=(0,t.useState)(!1),b=(0,t.useContext)(l.V),C=b.isLoggedIn?b.authenticatedUser.token.access_token:null,[E,f]=(0,t.useState)(!1),[k,L]=(0,t.useState)(!1),[T,Z]=(0,t.useState)(!1),[R,B]=(0,t.useState)(!1),P=E||T||R||k,U=()=>{f(!1),Z(!1),B(!1),L(!1)},V=()=>{Z(!0)},[D,O]=(0,t.useState)(!1),[F,Y]=(0,t.useState)(!1),[I,M]=(0,t.useState)(!1),[X,G]=(0,t.useState)(null),[H,K]=(0,t.useState)(""),[z,Q]=(0,t.useState)(null),[W,J]=(0,t.useState)(null);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(r.Z,{onClose:U,show:T||R||k,children:[k&&(0,S.jsx)(N,{onClose:U,onSubmit:e=>{G(e)}}),T&&(0,S.jsx)(x.Z,{onSubmit:e=>{Q(e),U()},onClose:U}),R&&(0,S.jsx)(g.Z,{curr_image:W,onClose:U,onSubmit:async(e,a)=>(J(e),U())})]}),(0,S.jsx)("div",{className:"".concat(n.container," ").concat(P&&n.hidden),children:v?(0,S.jsx)(S.Fragment,{children:s?(0,S.jsxs)("div",{className:n.preparing_url,children:[(0,S.jsx)("h1",{children:"Veryfying..."}),(0,S.jsx)("p",{children:"This will take up to 20 seconds"})]}):(0,S.jsxs)("div",{className:n.almost_there,children:[(0,S.jsx)("div",{className:n.almost_there_loader,children:(0,S.jsx)(o.Z,{})}),(0,S.jsx)("h1",{children:"We are almost there..."})]})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h1",{className:n.login_form_title,children:"Share Your Adventures"}),(0,S.jsxs)("div",{className:n.form_content,children:[(0,S.jsx)("div",{onClick:()=>L(!0),style:{border:"".concat(D?"2px solid rgb(209, 127, 127)":"2px solid rgba(48, 47, 47, 0.3)")},className:n.select_type,children:X?(0,S.jsxs)("div",{children:[(0,S.jsx)("img",{className:n.input_icon,src:X[0].icon,alt:""}),(0,S.jsx)("span",{children:X[0].value})]}):(0,S.jsx)("p",{style:{padding:"10px"},children:"Select type"})}),(0,S.jsx)(j.Z,{isValid:!0,type:"description",name:"Tell us about this place",value:H,onChange:e=>K(e),children:(0,S.jsx)("div",{style:{paddingLeft:"10px"}})}),(0,S.jsxs)("div",{className:n.logo_menu,children:[(0,S.jsx)("img",{className:"".concat(F&&n.icon_invalid," ").concat(z&&n.icon_valid),onClick:V,src:u,alt:""}),(0,S.jsx)("img",{className:"".concat(F&&n.icon_invalid," ").concat(z&&n.icon_valid),onClick:V,src:m,alt:""}),(0,S.jsx)("img",{className:"".concat(I&&n.icon_invalid," ").concat(W&&n.icon_valid),onClick:()=>B(!0),src:_,alt:""})]})]}),(0,S.jsx)("div",{className:n.btn_container,children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(c.Z,{height:"auto",onSubmit:async()=>{if(O(!1),Y(!1),M(!1),!X)return void O(!0);if(!H)return(0,h.h)("Enter description","warning");if(!z)return void Y(!0);if(!W)return void M(!0);if(!C)return(0,h.h)("Please login","warning");const{lat:s,lng:t}=z;if(!s||!t)return(0,h.h)("Please contact support team","warning");A(!0),w(!0),e.onProcessChange(!0);const n=await(await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(s,"&lon=").concat(t,"&accept-language=en"))).json(),r=n&&n.address&&n.address.country;if(!r)return Y(!0),Q(null),(0,h.h)("Incorrect location","warning");const c=new FormData;c.append("file",W),c.append("upload_preset","e0rbdj0k");try{const n=await y().post("https://api.cloudinary.com/v1_1/dvmptmthb/upload",c);if(!n.data.secure_url)return(0,h.h)("Cannot verify image","warning");A(!1);const l=await(async(e,a)=>{const s="".concat("https://backendserver-production-3c30.up.railway.app/","api/v1/user/places/new");return await(0,i.D)(s,"POST",e,a)})({type:X[0].value,description:H,country:r,lat:s,lng:t,image:n.data.secure_url},C);if(!l.status)throw new Error(l.message);return a("/explore"),e.onClose()}catch(l){return(0,h.h)(l.message||"Please try again!","error")}},color:"rgba(238, 125, 21, 1)",children:(0,S.jsx)("h1",{children:"Continue"})})})})]})})]})}},7382:(e,a,s)=>{s.d(a,{Z:()=>x});var t=s(2791);const n="styles_input__GSoJ-",r="styles_add_photo_icon__o5eai",i="styles_media_container__PPqTh",c="styles_media__cUUBO",l="styles_controllers__O-Okv",o="styles_controllers_btn__+iXdY";var d=s(9805),h=s(184);const p=e=>{let{onChangeFile:a}=e;return(0,h.jsx)(t.Fragment,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{id:"contained-button-file",accept:".jpg,.png,.jpeg",className:n,onChange:a,type:"file"}),(0,h.jsx)("label",{htmlFor:"contained-button-file",children:(0,h.jsx)("img",{className:r,src:d,alt:""})})]})})};var u=s(1927);const m=e=>{let{imageResetHandler:a,imageSubmitHandler:s,file:n}=e;return(0,h.jsx)(t.Fragment,{children:(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("div",{className:o,children:(0,h.jsx)(u.Z,{onSubmit:a,height:"auto",color:"#EE7D15",children:(0,h.jsx)("h1",{children:"Retake"})})}),(0,h.jsx)("div",{className:o,children:(0,h.jsx)(u.Z,{onSubmit:s,height:"auto",color:"#EE7D15",children:(0,h.jsx)("h1",{children:"Next"})})})]}),(0,h.jsx)("img",{onClick:s,className:c,src:n,alt:""})]})})};var _=s(7984);s(9906);const x=e=>{const[a,s]=(0,t.useState)(""),[n,r]=(0,t.useState)("");(0,t.useEffect)((()=>{e.curr_image&&(s(e.curr_image),r(URL.createObjectURL(e.curr_image)))}),[]);const[c,l]=(0,t.useState)(e.curr_image?"uploaded":"initial");return(0,h.jsx)(t.Fragment,{children:(0,h.jsx)("div",{className:i,children:"initial"===c&&(0,h.jsx)(p,{onChangeFile:async e=>{const a=e.target.files[0];s(a),r(URL.createObjectURL(a)),l("uploaded")}})||"uploaded"===c&&n&&(0,h.jsx)(m,{imageResetHandler:()=>{l("initial"),s(""),r("")},imageSubmitHandler:async()=>{const s={maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0,fileType:"image/jpeg"};if(s.maxSizeMB>=a/1024)return alert("Image is too small, can't be compressed"),0;(0,_.Z)(a,s).then((s=>e.onSubmit(s,a)))},file:n})})})}},8859:(e,a,s)=>{e.exports=s.p+"static/media/plus.1641b4188f1062984832.png"},9805:(e,a,s)=>{e.exports=s.p+"static/media/camera_valid.128c2f0ef690ac6120a5.png"},3909:(e,a,s)=>{e.exports=s.p+"static/media/income_valid.3366116b500a78210fd5.png"},1899:(e,a,s)=>{e.exports=s.p+"static/media/map_valid.e2477de2777d6347f9ef.png"},7080:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH2SURBVHgB7ZiBbYNADEV/OwEb1CMwgkfICIyQDZINmg2aEbpBboNkA+gEyQYtFkYYSsjdcSBFypOsIGLjD9zZdwAvwnjDPLLa8tq4tg8991ObU1sdEbSr7Vrb7x0r1Wc1SJNaESLQqV1HBBIWhgaiHJrXOERe7xErirOiCg//rfE/YyEKk2QbEGfF7bEA7dNyCOeEbiwmJUd314xw2MTnPgHv8IPNsUM4F3OcVFimvxXiuKEpvAL5BPgKWx1fYZX+ErqnF4LEtC3rgoQQ4kpFS2HiCYlpp3yJcOaUmocwurv+DIjbIaxbRHGEv7hMfVr/LyyIJDuj35wL9GsT4f+S6Iy4SRMs7oD767ChHbCCKAvX9j0hyCGufSVDnoZdQWyw8hOagpG4Tj19SxLk9RRoBrPMMp9VAqMpzAeNJSSE0VV9azzwGXuVPBJ3wsxCm98RVKEptOQhTI5l5l4wvr0jBMLoF0iHZuZlE/6PBr+cL/RadtvHCKBEd1fs4c8ewiwbk0PEeZUXRuD6HP09AUXEeOXJEL6KkBgZSy7A3zZ48ozr9cK2Uaeo5m2XKDFjr7nH+FSXCzP8hGbqu9XY4XeNPSIh9NdgQ5NEpSa1VmL6S5BDogZP6Kb6VMKpG5DYqZLTI/bDXa5iSRPR4P8KzV7ypoIqvFiYP74J8zeQaC8sAAAAAElFTkSuQmCC"},6890:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKgSURBVHgB7VjtcdswDIV7+R9tEHWCegSN4BHUCepOYGWCZANqA3kDaYRsQGcCtROgQMXkaASE9eXcJZd3h7NMgg8gBZCgAL7wybGBBUDEjH4Kkpzkh+h+JulInjabzR94T5BjO5IWx4N1S7g2gmMe58NfxVF+lSSNYbgn6UhqkmN47g19R5LDGmAi1FeN2yrLUBhbGuNzWIKEc/2c15RwdL6TCef41WUwE4GzUZyczolDPMWoYSUo3M1UgnIRwTgbrbCxmzLYrxInto0MzzPda3o3ysAShpPhBfd0EpzAMEQ/PPstyW1o/kvyRNKlxvLpQmN/06MLTRyfO2o/ggWx9N7QK3DcaeLQ3op8pNvCBecyQV4m9A4JZ05BNBwSXJXQS2d0WJUYuaLjFONNTIzDdlIrek7hy4VOOlnEbHoYt3LO4NOOxwdFL06WveVgPOtO9G1RRx76OTweg2RRm4ZCcLepCd9AGrKGe1B0TlGWViS/or59yFSuC+/EOI7HLvr/DAl8gzR6uB5koZxMDGsFv4v/9zBUzzE4wLNQMVdR+//n8PrvFG4ZZ7cwBhygaCdJpcRTY/BpmVwper3VHyvuUEkAofOoGHWxLqYL3Frhk9tMYTmYXZpt0NNWkuExfSXYJ7hKoWeXXjj+qEttxhIdydbg8bGu7N8oA3gnj+PqJyVBDYajMCQPO/Eye04aLhaO1pUTh6PUjbUVD4xn1eOCKtqwISt2P2WwTJYWVga+TaJyyniNwMFKwLcFx3RuHDLaC6IGF1TXgbMVnB5Xvtl5nH/t7Fdz7oKTr47i5Yv7Aa91cReGrD2vD6+OQ8CFZ+vTx1mBuxow/RljLDxOuV4udLSb4Fg317E1PmDyCVLA+VWVwSfJCYar5/t+wPzCR8I/ekUf/wEmLwQAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=479.d9cb6f36.chunk.js.map